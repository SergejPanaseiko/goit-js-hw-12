{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48662828-d5228b65b3bd2a50381de04cd';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n    const response = await axios.get(BASE_URL, {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 9\n        },\n    });\n\n    return response.data.hits;\n}\n","export function renderGallery(images) {\n    const gallery = document.querySelector('.gallery'); // Переконуємося, що елемент галереї доступний\n\n    const markup = images\n        .map(\n            ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n                `<a href=\"${largeImageURL}\" class=\"gallery-item\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\">\n                    <div class=\"info\">\n                        <p class=\"text\">Likes<br> <span>${likes}</span></p>\n                        <p class=\"text\">Views<br> <span>${views}</span></p>\n                        <p class=\"text\">Comments<br> <span>${comments}</span></p>\n                        <p class=\"text\">Downloads<br> <span>${downloads}</span></p>\n                    </div>\n                </a>`\n        )\n        .join('');\n    \n    gallery.innerHTML = markup;\n}\n","import { fetchImages } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { renderGallery } from './js/render-functions.js'\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.getElementById('loader');\nlet lightbox = new SimpleLightbox('.gallery a');\n\nfunction showLoader() {\ndocument.getElementById('loader').classList.add('show');\n}\nfunction hideLoader() {\ndocument.getElementById('loader').classList.remove('show');\n}\n\nhideLoader();\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({\n            title: 'Увага',\n            message: 'Будь ласка, введіть пошуковий запит!',\n        });\n        return;\n    }\n    gallery.innerHTML = '';\n    showLoader();\n    try {\n        const images = await fetchImages(query);\n\n        if (images.length === 0) {\n            iziToast.info({\n                title: 'Немає результатів',\n                message: 'Спробуйте інший пошуковий запит!',\n            });\n            return;\n        }\n        hideLoader();\n        renderGallery(images);\n        lightbox.refresh();\n    } catch (error) {\n        loader.style.display = \"none\"; \n        iziToast.error({\n            title: 'Помилка',\n            message: 'Щось пішло не так! Спробуйте ще раз.',\n        });\n    } finally {\n        loader.style.display = \"none\";\n    }\n});\nhideLoader();\n"],"names":["API_KEY","BASE_URL","fetchImages","query","axios","renderGallery","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","input","loader","lightbox","SimpleLightbox","showLoader","hideLoader","event","iziToast"],"mappings":"myBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CAYrC,OAXiB,MAAMC,EAAM,IAAIH,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACb,CACT,CAAK,GAEe,KAAK,IACzB,CClBO,SAASE,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAASF,EACV,IACG,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACrE,YAAYL,CAAa;AAAA,gCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,0DAEAC,CAAK;AAAA,0DACLC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA,qBAG9D,EACA,KAAK,EAAE,EAEZR,EAAQ,UAAYC,CACxB,CCbA,MAAMQ,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAC9CV,EAAU,SAAS,cAAc,UAAU,EAC3CW,EAAS,SAAS,eAAe,QAAQ,EAC/C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAE9C,SAASC,GAAa,CACtB,SAAS,eAAe,QAAQ,EAAE,UAAU,IAAI,MAAM,CACtD,CACA,SAASC,GAAa,CACtB,SAAS,eAAe,QAAQ,EAAE,UAAU,OAAO,MAAM,CACzD,CAEAA,IACAN,EAAK,iBAAiB,SAAU,MAAOO,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMpB,EAAQc,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACd,EAAO,CACRqB,EAAS,QAAQ,CACb,MAAO,QACP,QAAS,sCACrB,CAAS,EACD,MACH,CACDjB,EAAQ,UAAY,GACpBc,IACA,GAAI,CACA,MAAMf,EAAS,MAAMJ,EAAYC,CAAK,EAEtC,GAAIG,EAAO,SAAW,EAAG,CACrBkB,EAAS,KAAK,CACV,MAAO,oBACP,QAAS,kCACzB,CAAa,EACD,MACH,CACDF,IACAjB,EAAcC,CAAM,EACpBa,EAAS,QAAO,CACnB,MAAe,CACZD,EAAO,MAAM,QAAU,OACvBM,EAAS,MAAM,CACX,MAAO,UACP,QAAS,sCACrB,CAAS,CACT,QAAc,CACNN,EAAO,MAAM,QAAU,MAC1B,CACL,CAAC,EACDI,EAAY"}